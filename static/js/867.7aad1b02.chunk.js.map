{"version":3,"file":"static/js/867.7aad1b02.chunk.js","mappings":"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","sources":["webpack://react-project/./src/components/common/Paginator/Paginator.module.css?6caa","components/common/Paginator/Paginator.jsx","webpack://react-project/./src/components/Users/Users.module.css?b9d0","components/Users/User.jsx","components/Users/Users.jsx","redux/usersSelectors.js","components/Users/UsersContainer.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"pagination\":\"Paginator_pagination__MOP1l\",\"navButton\":\"Paginator_navButton__kS6HD\",\"pageNumber\":\"Paginator_pageNumber__uo7ID\",\"selectedPage\":\"Paginator_selectedPage__q-ytn\"};","import styles from \"./Paginator.module.css\";\r\nimport { useState } from \"react\";\r\n\r\nconst Paginator = ({\r\n  totalItemsCount,\r\n  pageSize,\r\n  currentPage,\r\n  onPageChanged,\r\n  portionSize = 15,\r\n}) => {\r\n  const maxPages = 100;\r\n\r\n  let realPagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n  let pagesCount = Math.min(realPagesCount, maxPages);\r\n\r\n  let pages = [];\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i);\r\n  }\r\n\r\n  let portionCount = Math.ceil(pagesCount / portionSize);\r\n\r\n  const [portionNumber, setPortionNumber] = useState(1);\r\n\r\n  const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n  const rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n  return (\r\n    <div className={styles.pagination}>\r\n      {portionNumber > 1 && (\r\n        <button\r\n          className={styles.navButton}\r\n          onClick={() => setPortionNumber(portionNumber - 1)}\r\n        >\r\n          ←\r\n        </button>\r\n      )}\r\n\r\n      {pages\r\n        .filter(\r\n          (p) => p >= leftPortionPageNumber && p <= rightPortionPageNumber\r\n        )\r\n        .map((p) => (\r\n          <span\r\n            key={p}\r\n            className={`${styles.pageNumber} ${\r\n              currentPage === p ? styles.selectedPage : \"\"\r\n            }`}\r\n            onClick={() => onPageChanged(p)}\r\n          >\r\n            {p}\r\n          </span>\r\n        ))}\r\n\r\n      {portionNumber < portionCount && (\r\n        <button\r\n          className={styles.navButton}\r\n          onClick={() => setPortionNumber(portionNumber + 1)}\r\n        >\r\n          →\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Paginator;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"usersAvatar\":\"Users_usersAvatar__utFEB\"};","import { NavLink } from \"react-router-dom\";\r\nimport userPhoto from \"../../assets/images/userPhoto.jpg\";\r\nimport styles from \"./Users.module.css\";\r\n\r\nexport const User = ({ user, follow, unfollow, followingInProgress }) => {\r\n  return (\r\n    <div>\r\n      <span>\r\n        <div>\r\n          <NavLink to={\"/profile/\" + user.id}>\r\n            <img\r\n              src={user.photos.small ? user.photos.small : userPhoto}\r\n              className={styles.usersAvatar}\r\n              alt=\"avatar\"\r\n            />\r\n          </NavLink>\r\n        </div>\r\n\r\n        <div>\r\n          {user.followed ? (\r\n            <button\r\n              disabled={followingInProgress.includes(user.id)}\r\n              onClick={() => unfollow(user.id)}\r\n            >\r\n              Unfollow\r\n            </button>\r\n          ) : (\r\n            <button\r\n              disabled={followingInProgress.includes(user.id)}\r\n              onClick={() => follow(user.id)}\r\n            >\r\n              Follow\r\n            </button>\r\n          )}\r\n        </div>\r\n      </span>\r\n\r\n      <span>\r\n        <span>\r\n          <div>{user.name}</div>\r\n          <div>{user.status}</div>\r\n        </span>\r\n        <span>\r\n          <div>{\"u.location.country\"}</div>\r\n          <div>{\"u.location.city\"}</div>\r\n        </span>\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default User;\r\n","import Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\nconst Users = ({\r\n  currentPage,\r\n  totalItemsCount,\r\n  pageSize,\r\n  onPageChanged,\r\n  users,\r\n  ...props\r\n}) => {\r\n  return (\r\n    <div>\r\n      <Paginator\r\n        currentPage={currentPage}\r\n        totalItemsCount={totalItemsCount}\r\n        pageSize={pageSize}\r\n        onPageChanged={onPageChanged}\r\n        portionSize={15}\r\n      />\r\n      <div>\r\n        {users.map((u) => (\r\n          <User\r\n            key={u.id}\r\n            user={u}\r\n            followingInProgress={props.followingInProgress}\r\n            unfollow={props.unfollow}\r\n            follow={props.follow}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","import { createSelector } from \"reselect\";\r\n\r\nexport const getUsers = (state) => {\r\n  return state.usersPage.users;\r\n};\r\n\r\n// const getUsersSelector = createSelector(getUsers, (users) => {\r\n//   return users.filter((u) => true);\r\n// }); логика сложного селектора созданного через реселект\r\n\r\nexport const getPageSize = (state) => {\r\n  return state.usersPage.pageSize;\r\n};\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n  return state.usersPage.totalUsersCount;\r\n};\r\n\r\nexport const getCurrentPage = (state) => {\r\n  return state.usersPage.currentPage;\r\n};\r\n\r\nexport const getIsFetching = (state) => {\r\n  return state.usersPage.isFetching;\r\n};\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n  return state.usersPage.followingInProgress;\r\n};\r\n","import { connect } from \"react-redux\";\r\nimport {\r\n  requestUsers,\r\n  fetchUsersByPage,\r\n  follow,\r\n  unfollow,\r\n} from \"../../redux/usersReducer\";\r\nimport Users from \"./Users\";\r\nimport React from \"react\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {\r\n  getUsers,\r\n  getPageSize,\r\n  getTotalUsersCount,\r\n  getCurrentPage,\r\n  getIsFetching,\r\n  getFollowingInProgress,\r\n} from \"../../redux/usersSelectors\";\r\n\r\nclass UsersContainer extends React.Component {\r\n  componentDidMount() {\r\n    const { currentPage, pageSize } = this.props;\r\n    this.props.getUsers(currentPage, pageSize);\r\n  }\r\n\r\n  onPageChanged = (numberPage) => {\r\n    const { pageSize } = this.props;\r\n    this.props.fetchUsersByPage(numberPage, pageSize);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.props.isFetching ? <Preloader /> : null}\r\n        <Users\r\n          users={this.props.users}\r\n          pageSize={this.props.pageSize}\r\n          totalItemsCount={this.props.totalUsersCount}\r\n          currentPage={this.props.currentPage}\r\n          onPageChanged={this.onPageChanged}\r\n          follow={this.props.follow}\r\n          unfollow={this.props.unfollow}\r\n          followingInProgress={this.props.followingInProgress}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    users: getUsers(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  getUsers: requestUsers,\r\n  fetchUsersByPage,\r\n  follow,\r\n  unfollow,\r\n})(UsersContainer);\r\n"],"names":["_ref","totalItemsCount","pageSize","currentPage","onPageChanged","portionSize","realPagesCount","Math","ceil","pagesCount","min","pages","i","push","portionCount","portionNumber","setPortionNumber","useState","leftPortionPageNumber","rightPortionPageNumber","_jsxs","className","styles","children","_jsx","onClick","filter","p","map","user","follow","unfollow","followingInProgress","NavLink","to","id","src","photos","small","userPhoto","alt","followed","disabled","includes","name","status","users","props","Paginator","u","User","getUsers","state","usersPage","getPageSize","getTotalUsersCount","totalUsersCount","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","UsersContainer","React","constructor","arguments","numberPage","this","fetchUsersByPage","componentDidMount","render","_Fragment","Preloader","Users","connect","requestUsers"],"sourceRoot":""}